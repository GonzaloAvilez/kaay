{% extends "shop/home.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% load el_pagination_tags %}

{% block title %} 
		{% if category %}
			{{ block.super }}{{ category.name }}
		{% else %}
			{{ block.super }}Productos
		{% endif %}
{% endblock %}

	{% block content %}
    
        <div class="row">
            <div class="col-lg-12">
                <h2 > Galería
                    <small>Secondary Text</small>
                </h2>
            </div>
        </div>
  


<div class="container-fluid">
    <div class="btn-group btn-group-lg dropdown-menu"> 
    <button type="button" class="btn-default btn-lg dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Categorías<span class="caret "></span></button>
        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
            <li {% if not category %}class="selected"{% endif %}>
                <a href="{% url "shop:product_list" %}" class=" ">All</a>
            </li>
        {% for c in categories %} 
            <li {% if category.slug == c.slug %}{% endif %}><a tabindex="-1" href="{{ c.get_absolute_url }}" class="product-category">{{ c.name }}</a></li>
        {% endfor %}
            <li class="divider"></li>
            <li><a tabindex="-1" href="#">Other</a></li>
        </ul>
    </div>
 </div>       
        <!-- /.row -->
 <!--  <div class="row"> -->

<div id="b"class="justified-gallery" >  
{% paginate products %}
  {% for product in products %}

    <a href="{{ product.get_absolute_url }}"class="portfolio-box  image-frame">
                    <img  src="{% if product.image %}{{ product.image.url }}{%else %}{% static 'image/noimage.png' %}{% endif %}" >

                    <div class="portfolio-box-caption">

              <div class="portfolio-box-caption-content">

                <div class="project-category text-faded">
                <h3>{{ product.name }}</h3>
                </div>
                <div class="project-name">
                <h3>${{ product.price }}</h3>
                </div>
              </div>
            </div>    
                </a>      
       {% endfor %}
         </div> 
{% show_pages %}
{% show_more %}
        <!-- </div>	 -->
        <!-- /.row -->

        <hr>

       
 <div class="endless_page_template">
        {% include page_template %}
    </div>
        

    </div>
    <!-- /.container -->



	
	
{% endblock  %}


{% block scripts %}
<script src="{% static 'site/js/jquery.js' %}" ></script>
<script src="{% static 'site/js/el-pagination.js' %}"></script>
<script src="{% static 'site/js/el-pagination_on_scroll.js' %}"></script>
<script src="{% static 'site/js/el-pagination-endless.js' %}"></script> 
<script src = "{%static 'site/js/jquery.justifiedGallery.js' %}"></script>
<script>$.endlessPaginate({paginateOnScroll: true});
</script>
<script>
    $(function(){
    var i=0;
    $('.justified-gallery').each(function(){
        var temp='b'+i;
        $(this).attr('id',temp);
        ++i;
        console.log($(this).attr('id'));
    });
  });
</script>
<script>
    $("#b").justifiedGallery({
    rowHeight : 220,
    lastRow : 'justify',    
    // nojustify or hide for last image
    margins : 15
    });

</script>

<!-- <script src="http://code.jquery.com/jquery-latest.js"></script>
 -->






{% endblock scripts %}